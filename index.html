<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Tournament Bracket Generator (Standalone)</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <div class="container">
        <h1>Tournament Bracket Generator</h1>
        <div id="tabs">
            <button class="tab-btn active" data-tab="tab-notes">Notes & Schedule</button>
            <button class="tab-btn" data-tab="tab-bracket">Bracket View</button>
            <button class="tab-btn" data-tab="tab-player">Player View</button>
            <button class="tab-btn" data-tab="tab-generate">Generate</button>
        </div>

        <div class="tab-content active" id="tab-notes">

            <div class="card">
                <h2>Tournament Notes</h2>

                <div id="notesBox" class="tourney-notes">

                    <p class="intro">
                        Hello all! I purchased 7,000 bulk Magic The Gathering cards and want to host shit.
                    </p>
					<div class="notes-section">
						<h3>Future Tournament Ideas</h3>
						<p>Choose from one of our exciting tournament formats!  All decks must be built using bulk common/uncommon cards provided at the event.</p>
						
						<div class="format-option">
							<h4>Format 1: The Role Reversal (40-Card)</h4>
							<ul>
								<li><strong>Deck Building:</strong> Inexperienced players construct 40-card decks for veteran players to pilot.</li>
								<li><strong>The Twist:</strong> Beginners get to make strategic decisions about deck composition without the pressure of piloting complex strategies.  Meanwhile, experienced players must adapt to unconventional builds and make the best of creative card choices.</li>
								<li><strong>Why It's Fun:</strong> This format encourages mentorship, teaches deck building fundamentals, and creates hilarious moments when veterans face unexpected card combinations!</li>
							</ul>
						</div>

						<div class="format-option">
							<h4>Format 2: Big or Small (40 or 60-Card)</h4>
							<ul>
								<li><strong>Deck Building:</strong> All players build their own decks from the available card pool. Choose between a streamlined 40-card deck or a traditional 60-card deck.</li>
								<li><strong>Strategic Depth:</strong> 
									<ul>
										<li><strong>40-card decks</strong> offer greater consistency and faster gameplay, perfect for focused strategies.</li>
										<li><strong>60-card decks</strong> allow for more variety, complex interactions, and resilience in longer matches.</li>
									</ul>
								</li>
								<li><strong>Deck Building Rules:</strong> Standard card legality applies (maximum 4 copies of any non-basic land card).</li>
								<li><strong>Why It's Fun:</strong> Players can tailor their deck size to their preferred playstyle.  Do you value consistency or longevity? </li>
							</ul>
						</div>

						<div class="format-option">
							<h4>Format 3: Commander Chaos (50-Card)</h4>
							<ul>
								<li><strong>Deck Building:</strong> Bring your own Commander (no restrictions!) and build a 50-card deck (including your Commander) using the bulk card pool.</li>
								<li><strong>Deck Building Rules:</strong> 
									<ul>
										<li>1 Commander of your choice</li>
										<li>49 additional cards from bulk commons/uncommons (including lands)</li>
										<li>Color identity rules still apply (You can ONLY use cards that match ANY color on your commander card)</li>
										<li>No duplicate cards, except basic lands</li>
									</ul>
								</li>
								<li><strong>Why It's Fun:</strong> Compact 50-card decks mean faster games and more consistent draws. Build around your favorite Commander using limited resources!</li>
							</ul>
						</div>

						<div class="format-option">
							<h4>Format 4: Double Commander Mayhem (60-Card, Duplicates Allowed)</h4>
							<ul>
								<li><strong>Deck Building:</strong> Choose TWO Commanders to lead your deck and build a 60-card deck with up to 4 copies of any card from the bulk pool.</li>
								<li><strong>The Double Commander Twist: </strong> 
									<ul>
										<li>Both Commanders start in the command zone</li>
										<li>You may cast either Commander at any time (following normal casting rules)</li>
										<li>Commander tax applies individually to each Commander</li>
										<li>Your deck must adhere to the combined color identity of both Commanders</li>
									</ul>
								</li>
								<li><strong>Breaking Singleton:</strong> With 4x duplicates allowed, you can build incredibly consistent combo engines or redundant threats. </li>
								<li><strong>Deck Building Rules:</strong>
									<ul>
										<li>2 Commanders (from my bulk, does not have to be legendary/planeswalker)</li>
										<li>58 additional cards from bulk commons/uncommons (including lands)</li>
										<li>Up to 4 copies of any card</li>
									</ul>
								</li>
								<li><strong>Why It's Fun:</strong> Double the commanders means double the strategic options! Build synergistic commander pairs and create unstoppable combos with consistent 4-ofs.</li>
							</ul>
						</div>
					</div>


                    <div class="notes-section">
                        <h3>How the Event Works</h3>
                        <ul>
                            <li><strong>Step 1:</strong> Strong MTG players will <strong>Draft</strong> or <strong>Timed Free-Build</strong> one Standard deck using the bulk.</li>
                            <li><strong>Step 2:</strong> New / low-skill MTG players will play those decks in a <strong>Round Robin tournament</strong>.
                                Decks are randomized each round as evenly as possible.</li>
                            <li><strong>Scoring:</strong>
                                <ul>
                                    <li>Builders earn <strong>1 point for every tournament win their deck achieves</strong>.</li>
                                    <li>Players earn <strong>1 point per match win</strong>.</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="notes-section">
                        <h3>Prize Pools</h3>

                        <h4>New Players</h4>
                        <ul>
                            <li><strong>1st:</strong> Choose any built deck + MTG Starter Kit</li>
                            <li><strong>2nd:</strong> Choose any remaining built deck</li>
                        </ul>

                        <h4>Builders</h4>
                        <ul>
                            <li><strong>1st & 2nd:</strong> A bottle of booze or MTG prize (TBD)</li>
                        </ul>

                        <p class="subnote">
                            All built decks can be purchased afterward for <strong>$10</strong> (negotiable).
                            All money goes toward funding this and future tournaments.
                        </p>
                    </div>
                </div>
            </div>


            <div class="card">
                <h2>Schedule of Events</h2>
                <div id="scheduleBox" class="schedule-list">
                    <div class="schedule-item">
                        <span class="schedule-time">11:45 AM -> 12:30 PM</span>
                        <span class="schedule-desc">Lite Lunch + Deck Building for those that missed Wednesday</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">12:30 PM –> 12:40 PM</span>
                        <span class="schedule-desc">Rules Overview</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">12:40 PM –> 2:30 PM</span>
                        <span class="schedule-desc">Rounds 1–5</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">2:30 PM</span>
                        <span class="schedule-desc">Snack Break if you want it</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">2:30 PM –> 5:00 PM</span>
                        <span class="schedule-desc">Rounds 6-11</span>
                    </div>

                    <div class="schedule-item">
                        <span class="schedule-time">5:00 PM</span>
                        <span class="schedule-desc">Tiebreakers & Awards</span>
                    </div>
                </div>
            </div>

        </div>



        <div class="tab-content" id="tab-bracket">
            <h2>Tournament Bracket</h2>

            <section id="bracketArea"></section>
            <section class="card">
                <h2>Leaderboards</h2>
                <div class="two-col">
                    <div>
                        <h3>Players</h3>
                        <ol id="playerLeaderboard"></ol>
                    </div>
                    <div>
                        <h3>Decks</h3>
                        <ol id="deckLeaderboard"></ol>
                    </div>
                </div>
                <div class="controls">
                    <button id="generateTiebreakersBtn">Generate Tiebreakers (1st/2nd/3rd)</button>
                </div>
            </section>
			<section id="tiebreakerArea"></section>
        </div>
		
        <div class="tab-content" id="tab-player">

            <h2>View Tournament From Player Perspective</h2>
            <section class="card">
                <h2>Player View</h2>
                <label>
                    Select player:
                    <select id="playerViewSelect">
                        <option value="">-- choose --</option>
                    </select>
                </label>
                <div id="playerOpponents"></div>
            </section>

            <section class="card">
                <h2>Leaderboards</h2>
                <div class="two-col">
                    <div>
                        <h3>Players</h3>
                        <ol id="playerLeaderboard"></ol>
                    </div>
                    <div>
                        <h3>Decks</h3>
                        <ol id="deckLeaderboard"></ol>
                    </div>
                </div>
                <div class="controls">
                    <button id="generateTiebreakersBtn">Generate Tiebreakers (1st/2nd/3rd)</button>
                </div>
            </section>
			<section id="tiebreakerArea"></section>
        </div>
		
        <div class="tab-content" id="tab-generate">
            <section class="row">
                <div class="card">
                    <h2>Import / Export</h2>
                    <div class="controls">
                        <button id="exportBtn">Export Bracket</button>
                        <input id="importFile" type="file" accept="application/json">
                    </div>
                </div>

                <div class="card">
                    <h2>Sets</h2>
                    <div class="two-col">
                        <div>
                            <h3>Players (<span id="playerCount">0</span>)</h3>
                            <textarea id="playerInput" placeholder="Paste players here, one per line"></textarea>
                            <button id="addPlayerBtn">Add</button>
                            <div id="playerList"></div>
                        </div>
                        <div>
                            <h3>Decks (<span id="deckCount">0</span>)</h3>
                            <textarea id="deckInput" placeholder="Paste decks here, one per line"></textarea>
                            <button id="adddeckBtn">Add</button>
                            <div id="deckList"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2>Options</h2>
                    <label>
                        Tournament type:
                        <select id="tournamentType">
                            <option value="single">Single Elimination</option>
                            <option value="double">Double Elimination (not fully supported)</option>
                            <option value="roundrobin">Round Robin</option>
                        </select>
                    </label>
                    <div class="controls">
                        <button id="generateBtn">Generate Tournament</button>
                        <button id="resetBtn">Reset</button>
                    </div>
                </div>
            </section>
            <div class="card">
                <h3>Deck Usage Matrix</h3>
                <div id="deckMatrix"></div>
            </div>


        </div>
    </div>

    <footer>
        Hello you shitting bastards, this footer is useless.
    </footer>
    </div>

    <script src="js/state.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/generate.js"></script>
    <script src="js/tiebreakers.js"></script>
    <script src="js/importExport.js"></script>
    <script src="js/main.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const tabButtons = document.querySelectorAll(".tab-btn");
            const tabContents = document.querySelectorAll(".tab-content");

            tabButtons.forEach(btn => {
                btn.addEventListener("click", () => {
                    const target = btn.dataset.tab;

                    // deactivate all tabs
                    tabButtons.forEach(b => b.classList.remove("active"));
                    tabContents.forEach(c => c.classList.remove("active"));

                    // activate clicked tab
                    btn.classList.add("active");
                    document.getElementById(target).classList.add("active");
                });
            });
        });
    </script>


</body>

</html>